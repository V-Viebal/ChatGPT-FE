@import 'scss/stylesheets/variables';

:host {
	display: flex;
	flex-direction: column;
	width: 100%;
	min-width: 0;
	height: 100%;
	min-height: 0;

	::ng-deep {
		.resize {
			position: absolute;
			right: 0;

			.resize-button {

				&:hover {
					background: transparent !important;
				}

				&:focus {
					box-shadow: none;
				}
			}
		}

		.preset {
			.preset__content {
				p-tabview {
					height: 100%;

					.p-tabview {
						height: 100%;

						.p-tabview-nav {
							background-color: transparent;
							li {
								flex-grow: 1;

								a {
									justify-content: center;
									background-color: transparent;
									padding: 0.75rem;
								}
							}
						}

						.p-tabview-panels {
							padding: 0;
							background-color: transparent;

							p-orderlist {
								.p-orderlist-controls {
									display: none;
								}

								.p-orderlist-list-container {
									.p-orderlist-list {
										border: none;
										background-color: transparent;

										.p-orderlist-item {
											flex-direction: row;
											display: flex;
											padding: .25rem .75rem;

											.item-view {
												display: none !important;

												.item-view-button {
													height: 1rem;
													width: 1.6rem;
												}
											}

											&:hover {
												padding-right: .8rem;

												.item-view {
													display: flex !important;
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}

		.user,
		.assistant {
			.message_action--hidden > button {
				display: none;
			}
		}

		.p-timeline-event:last-child {
			min-height: unset !important;
		}

		.p-timeline-event-opposite {
			max-width: 85px;
			padding: 0 1rem 0 0 !important;
			font-size: 14px;
		}

		p-timeline {
			margin-right: 0 !important;
			.p-timeline-event-content {
				padding-right: 0 !important;
				margin {
					right: .5rem;
					bottom: 1rem;
				}

				.session-button {
					width: 100%;

					&:hover .session-button_action,
					.session-button_action:focus {
						box-shadow: none;
					}

					.session-button_label {
						max-width: 100%;
						word-break: break-word;
						padding: .5rem .8rem;
						margin-right: .2rem;
						border: none;
						backdrop-filter: unset !important;
						-webkit-backdrop-filter: unset !important;
						background-color: transparent !important;
						border-radius: .8rem;
						width: -webkit-fill-available;

						span {
							display: -webkit-box;
							-webkit-line-clamp: 1;
							-webkit-box-orient: vertical;
							overflow: hidden;
							text-overflow: ellipsis;
							visibility: visible;
						}
					}

					.session-button_action {
						color: transparent;
						margin: 0.1rem 0.4rem !important;
						padding: 12px;
						width: 1.2rem;
						height: 1.2rem !important;
						background-color: transparent;

						&:active {
							background-color: unset !important;
						}
					}
				}
			}
		}

		.google-button {
			margin: 20px auto 10px;
			display: flex;
			border-radius: 1rem;
			border: none;
			padding: .5rem 1rem;
		}

		.google-button-clicked {
			margin: 20px auto 10px;
			display: flex;
			border-radius: 1rem;
			border: none;
			background-color: transparent;
		}


		.toolbar {
			margin-top: -4px;

			.copy-to-clipboard-button {
				padding: 0.2rem !important;
				font-size: 12px !important;
				box-shadow: none !important;
				background-color: transparent !important;

				&:hover {
					background-color: color(darkGray, 400) !important;
				}

				&:active {
					background-color: color(darkGray, 400) !important;
					border: solid 1px color(darkGray, 700) !important;
				}
			}

			span {
				background-color: transparent !important;
				box-shadow: none !important;
				font-size: 12px !important;
			}
		}

		p {
			margin-bottom: 0 !important;
		}

		#message-error {
			background-color: rgba(255, 255, 0, 0.05) !important;
			color: rgb(216 173 11) !important;
			padding: 2px 8px;
			border-radius: 1rem;
			border: 1px solid rgb(216 190 45);
			width: -moz-fit-content;
			width: fit-content;
		}

		.custom-error-btn {
			background-color: rgb(239, 68, 68, 0.1) !important;
			color: rgb(239, 68, 68) !important;
			padding: 5px;
			width: 2rem;
		}

		.custom-cancel-btn {
			padding: 0.6rem;
			width: 1rem;
			height: 1rem !important;
			background-color: transparent;
			margin: 0 !important;

			&:active {
				background-color: unset !important;
			}

			&:focus {
				box-shadow: none !important;
			}
		}

		.custom-resend-btn {
			height: 2rem;
			margin: .2rem 0 !important;
			z-index: 1;
		}

		.p-dialog {
			width: 47%;
			max-height: 100%;
		}

		.session-button--dialog {
			display: none;
			width: 2.2rem !important;
			height: 2.2rem !important;
			position: fixed;
			left: 10px;
			z-index: 1;
			top: 8px;
		}

		.assistant .avatar div,
		.user .avatar div  {
			height: 22px;
			width: 22px;
		}

		.message_action {
			margin: 0 !important;
			padding: 0.6rem;
			width: 1.4rem;
			height: 1.2rem  !important;
		}

		.preset-button {
			display: flex;
			align-items: center;
			justify-content: space-between;
			background-color: transparent;
			border: none;
			padding: 0.75rem;
			flex-direction: column;

			&:hover {
				background-color: transparent !important;
			}

			&:focus {
				box-shadow: none !important;
			}

			.p-button-icon {
				margin-top: 1rem;
				margin-right: 0.3rem;
			}

			.p-button-label {
				display: flex;
				flex: none;
				transform: rotate(90deg);
				width: max-content;
				padding: 9rem 0 9rem 3rem;
				margin-bottom: auto;
			}
		}

		.button {
			font-weight: 600;
			border: none;
			border-radius: 1rem;
			padding: 12px 16px;
		}

		.senting-button,
		.sent-button {
			width: 4.5rem;
		}
	}

	.h-60 {
		height: 60px;
	}

	.placeholder-text {
		font-weight: 300;
		font-size: 14px;
		text-align: center;
	}

	.chat-container {
		display: flex;
		flex-grow: 1;
		flex-direction: column;
		overflow-y: auto;
	}

	.chat {
		width: 40%;
		border-radius: 1rem;
		font-family: "Roboto", sans-serif;
		position: relative;
		display: flex;
		flex-direction: column;
		margin-top: 23px;
		margin-bottom: 23px;

		.messages {
			overflow-y: auto;
			padding: 2rem 0 0;
			display: flex;
			flex-grow: 1;
			flex-direction: column;
		}

		.form {
			display: flex;
			margin-top: auto;
			border-radius: 1rem;
			width: 100%;
			padding: 0.6rem;
		}

		.support-bar {
			flex-grow: 1;
			overflow-y: auto;
			height: 20px;

			&::-webkit-scrollbar {
				width: 0;
				height: 0;
			}
		}
	}



	.system-container {
		justify-content: flex-start;
		width: 196px;
		height: 204px;
		margin-left: 2rem;

		.image {
			height: 100%;
			width: 84%;
		}
	}

	.user {
		place-self: baseline;
		max-width: 92%;
		margin-right: .5rem;

		.avatar {
			position: relative;
			top: 12px;
			right: 12px;
			width: 36px;
			min-width: 36px;
			border-radius: 50%;
			display: flex;

			&:hover {
				&::before {
					content: "";
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					z-index: 1;
					backdrop-filter: blur(1px);
					background-color: rgba(255, 255, 255, 0.5);
					border-radius: 50%;
				}

				.view-detail {
					visibility: visible;
				}
			}

			.view-detail {
				visibility: hidden;
				position: absolute;
				top: 47%;
				left: 50%;
				transform: translate(-50%, -50%);
				background-color: transparent;
				z-index: 1;
			}

			.default {
				padding: 7px;
				width: 36px;
				height: 36px;
				border-radius: 50%;
			}

			img {
				height: 36px;
				border-radius: 50%;
			}
		}

		.right {
			padding: 16px 12px 12px;
			border-radius: 1rem;
			margin-bottom: 10px;
			display: flex;
			min-width: 100px;
		}

		.resent {
			border: 1px solid red;
			margin-left: 0;
			margin-bottom: 0;
		}
	}

	.assistant {
		place-self: baseline;
		max-width: 92%;
		margin-left: 10px;

		.avatar {
			position: relative;
			top: 12px;
			left: 12px;
			min-width: 36px;
			border-radius: 50%;
			display: flex;
			padding: 7px;
		}

		.left {
			padding: 16px 12px 12px;
			border-radius: 1rem;
			margin-bottom: 10px;
			display: flex;
			min-width: 100px;

			markdown {
				min-width: 0;
				word-break: break-word;
			}
		}

	}

	.timeline-content,
	.preset .preset__content form,
	.form {
		.form-input {
			padding: 0 10px;
			border-radius: 1rem;
			flex-grow: 1;
			margin-right: 10px;
			height: auto;
			width: calc(100% - 60px);
			min-height: 2.5rem;

			textarea {
				padding: 11px 8px 0;
				resize: vertical;
				font-family: "Roboto", sans-serif;
				width: 100%;
				min-height: 2.5rem;
				height: 2.5rem;
				background-color: transparent;
				border: none;

				&:focus,
				&:focus-visible {
					border: none;
					outline: none;
				}
			}
		}

	}

	.create-session {
		border-radius: 1rem !important;
		border: 1px solid transparent;
		font-weight: 500;
		max-width: 100%;
		min-width: 0;
		width: -webkit-fill-available;
		justify-content: start;
		background: transparent !important;

		&:focus {
			box-shadow: none;
		}
	}

	.session-name-input {
		background: transparent;
		padding-left: .5rem;
		border: none;
		width: inherit;
		min-width: 0;

		&:focus-visible {
			outline: none;
		}

		&:focus {
			box-shadow: none;
		}
	}

	.session-name-button {
		width: 2.5rem;
		background: transparent !important;
		border: none !important;

		&:focus,
		&:focus-visible {
			outline: none;
			box-shadow: 0 0 0 2px #ffffff, 0 0 0 4px transparent, 0 1px 2px 0 transparent;
		}
	}

	.session-name-button_quick {
		border-top-right-radius: 1rem;
		border-bottom-right-radius: 1rem;
	}

	.scroll-to-bottom {
		height: 2rem;
		z-index: 1;
		border: none;
		padding: 0.1rem 0.7rem 0.3rem;
		font-size: 15px;
		cursor: pointer;
		margin: 0.2rem 0.3rem;
		border-radius: 50%;
	}

	#mark-message-sending {
		font-size: 1rem;
		overflow-x: auto;
		margin-bottom: 0;
		font-family: "Roboto", sans-serif;
		&:focus-visible {
			outline: none;
		}
	}

	#message-sending  {
		word-break: break-word;
	}

	/* Typing Indicastor */
	.typing-indicator {
		width: auto;
		height: 14px;
		padding: 0px 10px;
		align-self: center;
	}

	.typing-indicator span {
		display: inline-block;
		width: 0.7rem;
		height: 0.7rem;
		margin: 0.2rem;
		border-radius: 50%;
		background-color: color(darkGray, 200);
	}

	.typing-indicator span:nth-of-type(1) {
		animation: 1s blink infinite 0.33333s;
	}

	.typing-indicator span:nth-of-type(2) {
		animation: 1s blink infinite 0.66666s;
	}

	.typing-indicator span:nth-of-type(3) {
		animation: 1s blink infinite 0.99999s;
	}

	.chat-panel {
		display: flex;
		flex-grow: 1;
	}

	.timeline {
		max-width: 30%;
		min-width: 30%;
		margin: 1.3rem 0.5rem 0 1.3rem;
		height: 75%;

		.timeline-content {
			display: flex;
			align-self: flex-start;
			flex-direction: column;
			background-color: rgba(0, 0, 0, 0.01);
			backdrop-filter: blur(5px);
			-webkit-backdrop-filter: blur(5px);
			border: 1px solid rgba(255, 255, 255, 0.2);
			border-radius: 1rem;
			box-shadow: 0 2px 6px white;
			max-height: 95vh;
			min-height: 0;
			min-width: 350px;
			max-width: 350px;
		}
	}

	.preset {
		right: 0;
		position: absolute;
		margin-top: 1.3rem;
		background-color: rgba(0, 0, 0, 0.01);
		backdrop-filter: blur(5px);
		-webkit-backdrop-filter: blur(5px);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: .8rem 0 0 .8rem;
		box-shadow: 0 2px 6px white;
		transition: transform 0.5s ease;
		transform: translateX(80%);

		.p-preset-button {
			display: flex;
			flex-grow: 1;
			width: 4rem;
		}

		.preset__content {
			width: 16rem;

			form {
				display: flex;
				margin-top: auto;
				width: 100%;
				padding: 0.6rem;
				margin-bottom: auto !important;
				margin-top: unset !important;

				.form-input {
					display: flex;
					padding: 0 0 0 10px;
					background-color: transparent;

					input {
						width: 100%;
						height: 100%;
						background-color: transparent;
						border: none;

						&:focus-visible {
							outline: none;
						}
					}

					.search-button {
						background-color: transparent;

						&:hover,
						&:focus {
							box-shadow: none;
							background-color: transparent;
						}
					}
				}
			}

		}
	}
	.preset--active {
		transition: transform 0.5s ease;
		transform: translateX(0);
	}
}


::ng-deep {
	.p-orderlist-item.cdk-drag-preview {
		padding: .25rem .75rem;
	}

	.p-confirm-popup .p-confirm-popup-footer .reject-cancel {
		background-color: transparent !important;
		color: color(darkGray, 700) !important;
		border: none !important;

		&:focus {
			box-shadow: 0 0 0 2px #ffffff, 0 0 0 4px color(darkGray, 500), 0 1px 2px 0 black;
		}

		&:hover {
			color: color(darkGray, 500) !important;
		}
	}

	.p-confirm-popup .p-confirm-popup-footer .accept-cancel {
		background-color: color(darkGray, 300) !important;
		color: color(lightGray, 700) !important;
		border: none !important;

		&:focus {
			box-shadow: 0 0 0 2px #ffffff, 0 0 0 4px color(darkGray, 500), 0 1px 2px 0 black;
		}

		&:hover {
			background-color: color(darkGray, 500) !important;
		}
	}
}

[data-theme="light"] :host {
	.session-name-button {
		color: color(darkGray, 700);

		&:hover,
		&:active{
			background: color(lightGray, 300) !important;
		}
	}
}

[data-theme="light"] :host ::ng-deep {

	.resize-button {
		color: color(darkGray, 400);

		&:hover {
			color: color(darkGray, 700);
		}
	}

	.timeline-content {
		background-color: color(lightGray, 200);
		color: color(darkGray, 700);

		&:hover {
			background-color: $color-light-hover;
		}

		&:focus {
			background-color: $color-light-focus;
		}
	}

	.preset-button,
	.preset-button:hover {
		color: color(darkGray, 700);
	}

	.preset__content {
		border-left: 1px solid color(lightGray, 200);

		form {
			.form-input {
				border: 1px solid color(lightGray, 200);

				input {
					color: color(darkGray, 700);
				}

				.search-button {
					color: color(darkGray, 700) !important;

					&:hover,
					&:focus {
						background-color: $color-light-hover;
					}
				}
			}

			.create-button {
				background-color: color(darkGray, 200);
				color: color(lightGray, 700);
			}
		}

		p-tabview {
			.p-tabview {
				.p-tabview-nav {
					li {
						a {

							border-color: color(lightGray, 200);
							color: color(darkGray, 200);

							&:hover {
								background-color: $color-light-hover;
							}

							&:focus {
								box-shadow: inset 0 0 0 0.15rem $color-light-focus;
							}
						}

						&.p-highlight,
						&.p-highlight a {
							border-color: color(darkGray, 700);
							color: color(darkGray, 700);
						}

						&:hover,
						&:hover a {
							background-color: transparent;
							color: color(darkGray, 300);
						}

					}

				}

				.p-tabview-panels {
					p-orderlist {
						.p-orderlist-list-container {
							.p-orderlist-list {
								.p-orderlist-item {
									color: color(darkGray, 700);

									&:hover {
										background-color: $color-light-hover;

										.item-view {
											.item-view-button {
												background-color: $color-light-hover;
											}
										}
									}

									&:focus {
										box-shadow: inset 0 0 0 0.15rem $color-light-hover;
									}

									&.p-highlight {
										background-color: $color-light-focus;
									}

									.item-view {
										.item-view-button {
											color: color(darkGray, 700);
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	.system-container {
		.image {
			background-size: cover;
			background-image: url('/assets/images/introduce-black.webp');
		}
	}

	.p-skeleton {
		background-color: color(lightGray, 200);
	}

	.scroll-to-bottom {
		background-color: color(lightGray, 200);
		color: color(darkGray, 700);

		&:hover {
			background-color: color(darkGray, 400);
			color: color(lightGray, 700);
		}

		&:active {
			background-color: color(darkGray, 500);
			color: color(lightGray, 700);
		}
	}

	.cancel-button {
		color: color(darkGray, 700);
		background: transparent !important;
		border: solid 1px color(darkGray, 700) !important;
		width: 100%;

		&:hover {
			color: color(darkGray, 700);
			background: color(lightGray, 400) !important;
			border: solid 1px color(darkGray, 700) !important;
		}
	}

	.save-button {
		color: color(darkGray, 700);
		background: color(lightGray, 300) !important;
		border: solid 1px color(darkGray, 700) !important;
		width: 100%;

		&:hover {
			background: color(lightGray, 500) !important;
			border: solid 1px color(darkGray, 200) !important;
			color: color(darkGray, 700);
			box-shadow: 0 0 0 2px color(lightGray, 700), 0 0 0 4px color(darkGray, 500), 0 1px 2px 0 color(darkGray, 700);
		}
	}

	.p-timeline-event-marker {
		border: 2px solid color(darkGray, 700);
		background-color: transparent;
	}

	.session-button {
		&:hover .session-button_action,
		.session-button_action:focus,
		.show-default {
			color: color(darkGray, 200) !important;
			border: 1px solid color(darkGray, 200);
		}

		.session-button_label--active {
			box-shadow: 0 2px 7px color(darkGray, 500) !important;
			color: color(darkGray, 500) !important;
			border: none;
			background: color(lightGray, 500);
		}

		.session-button_label:hover {
			border: none;
			background: color(lightGray, 500);
		}
	}

	.google-button {
		color: color(darkGray, 300);
		background-color: color(lightGray, 400);

		&:focus {
			border: 1px solid color(darkGray, 700);
			color: color(darkGray, 700);
		}
	}

	.google-button-clicked {
		color: color(darkGray, 500);
	}

	.assistant {
		.left {
			background-color: color(lightGray, 200);
			color: color(darkGray, 700);
		}

		.message_action {
			background-color: color(lightGray, 200);
			color: color(darkGray, 500);

			&:hover, &:active {
				background-color: color(lightGray, 500);
				color: color(darkGray, 700);
			}
		}

		.avatar {
			background-color: color(lightGray, 500);

			div {
				background-size: cover;
				background-image: url('~assets/images/avatar-ai-black.webp');
			}
		}
	}

	.system markdown {
		color: color(darkGray, 700);
	}

	.user {
		.right {
			background-color: color(lightGray, 400);
			color: color(darkGray, 700);
		}

		.message_action {
			background-color: color(lightGray, 400);
			color: color(darkGray, 500);

			&:hover, &:active {
				background-color: color(lightGray, 200);
				color: color(darkGray, 700);
			}
		}

		.avatar {
			.default {
				background-color: color(lightGray, 500);

				div {
					background-repeat: round;
					background-image: url('~assets/images/avatar-user-black.webp');
				}
			}
		}
	}

	.custom-cancel-btn {
		color: color(darkGray, 700) !important;
		background-color: color(lightGray, 200) !important;

		&:hover {
			background-color: color(lightGray, 500) !important;
		}
	}

	.custom-resend-btn {
		background-color: color(lightGray, 400) !important;
		color: color(darkGray, 700) !important;

		&:hover {
			background-color: color(lightGray, 200) !important;
		}
	}

	.chat, .form {
		background-color: rgba( 255,255,255, 0.2);
		backdrop-filter: blur(2px);
		-webkit-backdrop-filter: blur(2px);
		border: 1px solid rgba( 0,0,0, 0.2);
		box-shadow: 0 2px 6px color(darkGray, 700);
	}

	.form {
		border: none;
		box-shadow: none;
		background-color: rgba( 255,255,255, 0);


		.form-input {
			background-color: color(lightGray, 700);
			border: color(darkGray, 700) 1px solid;

			&:focus-within {
				box-shadow: color(darkGray, 700) 0px 0px 0px 1px, color(darkGray, 700) 0px 0px 5px 0px;
			}

			textarea {
				color: color(darkGray, 700);
			}
		}

		button {
			background-color: color(darkGray, 200);
			color: color(lightGray, 700);

			&:hover,
			&:focus {
				background-color: $color-dark-focus;
			}
		}

		.senting-button,
		.senting-button:hover,
		.sent-button:focus-within {
			background-color: color(darkGray, 500);
			color: color(lightGray, 700);
			box-shadow: 0 0 0 2px color(darkGray, 700), 0 0 0 4px color(lightGray, 500), 0 1px 2px 0 color(lightGray, 700)
		}
	}

	.create-session {
		color: color(darkGray, 500);
		border: 1px solid color(lightGray, 200);

		&:hover {
			color: color(darkGray, 700);
			border: 1px solid color(lightGray, 400);
		}

		&:active {
			color: color(darkGray, 700);
			border: 1px solid color(lightGray, 500);
		}
	}

	.session-name-input {
		color: color(darkGray, 700);
	}
}

[data-theme="dark"] :host{
	.session-name-button {
		color: color(lightGray, 700);

		&:hover,
		&:active{
			background: color(darkGray, 700) !important;
		}
	}
}

[data-theme="dark"] :host ::ng-deep {
	.resize-button {
		color: color(lightGray, 400);

		&:hover {
			color: color(lightGray, 700);
		}
	}

	.timeline-content {
		background-color: color(darkGray, 200);
		color: color(lightGray, 700);

		&:hover {
			background-color: $color-dark-hover;
		}

		&:focus {
			background-color: $color-dark-focus;
		}
	}

	.preset__content {
		border-left: 1px solid color(darkGray, 200);

		form {

			.form-input {
				border: 1px solid color(darkGray, 200);

				input {
					color: color(lightGray, 700);
				}

				.search-button {
					color: color(lightGray, 700) !important;

					&:hover,
					&:focus {
						background-color: $color-dark-hover;
					}
				}
			}
			.create-button {
				background-color: color(lightGray, 200);
				color: color(darkGray, 700);
			}
		}
		p-tabview {
			.p-tabview {
				.p-tabview-nav {
					li {
						a {
							border-color: color(darkGray, 200);
							color: color(lightGray, 200);

							&:hover {
								background-color: $color-dark-hover;
							}

							&:focus {
								box-shadow: inset 0 0 0 0.15rem $color-dark-focus;
							}
						}

						&.p-highlight,
						&.p-highlight a {
							border-color: color(lightGray, 700);
							color: color(lightGray, 700);
						}

						&:hover,
						&:hover a {
							background-color: transparent;
							color: color(lightGray, 300);
						}

					}

				}

				.p-tabview-panels {


					p-orderlist {

						.p-orderlist-list-container {
							.p-orderlist-list {

								.p-orderlist-item {
									color: color(lightGray, 700);

									&:hover {
										background-color: $color-dark-hover;

										.item-view {
											.item-view-button {
												background-color: $color-dark-hover;
											}
										}
									}

									&:focus {
										box-shadow: inset 0 0 0 0.15rem $color-dark-focus;
									}

									&.p-highlight {
										background-color: $color-dark-focus;
									}

									.item-view {
										.item-view-button {
											color: color(lightGray, 700);
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	.preset-button,
	.preset-button:hover {
		color: color(lightGray, 700);
	}

	.system-container {
		.image {
			background-size: cover;
			background-image: url('~assets/images/introduce-white.webp');
		}
	}

	.p-skeleton {
		background-color: color(darkGray, 200);
	}

	.scroll-to-bottom {
		background-color: color(darkGray, 400);
		color: color(lightGray, 700);

		&:hover {
			background-color: color(lightGray, 400);
			color: color(darkGray, 700);
		}

		&:active {
			background-color: color(lightGray, 500);
			color: color(darkGray, 700);
		}
	}

	.cancel-button {
		background: transparent !important;
		color: color(lightGray, 700);
		border: solid 1px color(lightGray, 700) !important;
		width: 100%;

		&:hover {
			background: color(darkGray, 400) !important;
			color: color(lightGray, 700);
			border: solid 1px color(lightGray, 700) !important;
		}
	}

	.save-button {
		background: color(darkGray, 300) !important;
		border: solid 1px color(lightGray, 700) !important;
		color: color(lightGray, 700);
		width: 100%;

		&:hover {
			background: color(darkGray, 400) !important;
			border: solid 1px color(lightGray, 200) !important;
			color: color(lightGray, 700);
			box-shadow: 0 0 0 2px color(darkGray, 700), 0 0 0 4px color(lightGray, 500), 0 1px 2px 0 color(lightGray, 700);
		}
	}

	.p-timeline-event-marker {
		border: 2px solid color(lightGray, 700);
		background-color: transparent;
	}

	.p-timeline-event-connector {
		background-color: color(darkGray, 200);
	}

	.session-button {
		&:hover .session-button_action,
		.session-button_action:focus,
		.show-default {
			color: color(lightGray, 200) !important;
			border: 1px solid color(lightGray, 200);
		}

		.session-button_label--active {
			box-shadow: 0 2px 7px color(lightGray, 500) !important;
			color: color(lightGray, 500) !important;
			border: none;
			background: color(darkGray, 500);
		}

		.session-button_label:hover {
			border: none;
			background: color(darkGray, 500);
		}
	}

	.google-button {
		color: color(lightGray, 300);
		background-color: color(darkGray, 700);

		&:focus {
			border: 1px solid color(lightGray, 700);
			color: color(lightGray, 700);
		}
	}

	.google-button-clicked {
		color: color(lightGray, 500);
	}

	.system markdown {
		color: color(lightGray, 700);
	}

	.assistant {
		.left {
			background-color: color(darkGray, 500);
			color: color(lightGray, 700);
		}

		.message_action {
			background-color: color(darkGray, 500);
			color: color(lightGray, 500);

			&:hover, &:active {
				background-color: color(darkGray, 300);
				color: color(lightGray, 700);
			}
		}

		.avatar {
			background-color: color(darkGray, 500);

			div {
				background-size: cover;
				background-image: url('~assets/images/avatar-ai-white.webp');
			}
		}
	}

	.user {
		.right {
			background-color: color(darkGray, 700);
			color: color(lightGray, 700);
		}

		.message_action {
			background-color: color(darkGray, 700);
			color: color(lightGray, 500);

			&:hover, &:active {
				background-color: color(darkGray, 200);
				color: color(lightGray, 700);
			}
		}

		.avatar {
			.default {
				background-color: color(darkGray, 700);

				div {
					background-repeat: round;
					background-image: url('~assets/images/avatar-user-white.webp');
				}
			}
		}
	}

	.custom-cancel-btn {
		color: color(lightGray, 700) !important;
		background-color: color(darkGray, 400) !important;

		&:hover {
			background-color: color(darkGray, 500) !important;
		}
	}

	.custom-resend-btn {
		background-color: color(darkGray, 300) !important;
		color: color(lightGray, 700) !important;

		&:hover {
			background-color: color(darkGray, 500) !important;
		}
	}

	.chat, .form {
		background-color: rgba( 0,0,0, 0.2);
		backdrop-filter: blur(5px);
		-webkit-backdrop-filter: blur(5px);
		border: 1px solid rgba( 255,255,255, 0.2);
		box-shadow: 0 2px 6px color(lightGray, 700);
	}

	.form {
		border: none;
		box-shadow: none;
		background-color: rgba( 0,0,0, 0);


		.form-input {
			background-color: color(darkGray, 700);
			border: color(lightGray, 700) 1px solid;

			&:focus-within {
				box-shadow: color(lightGray, 700) 0px 0px 0px 1px, color(lightGray, 700) 0px 0px 5px 0px;
			}

			textarea {
				color: color(lightGray, 700);
			}
		}

		button {
			background-color: color(lightGray, 200);
			color: color(darkGray, 700);

			&:hover,
			&:focus {
				background-color: $color-light-focus;
			}
		}

		.senting-button,
		.senting-button:hover,
		.sent-button:focus-within {
			background-color: color(lightGray, 200);
			color: color(darkGray, 700);
			box-shadow: 0 0 0 2px color(lightGray, 700), 0 0 0 4px color(darkGray, 500), 0 1px 2px 0 color(darkGray, 700)
		}
	}

	.p-dialog,
	.p-dialog-header,
	.p-dialog-content {
		background-color: rgba( 0,0,0, 0.8);
		backdrop-filter: blur(6px);
		-webkit-backdrop-filter: blur(10px);
		color: color(lightGray, 700);
	}
	.p-dialog-header-icon {
		color: color(lightGray, 700) !important;

		&:enabled:hover {
			background: color(darkGray, 500) !important;
		}
	}

	.create-session {
		color: color(lightGray, 500);
		border: 1px solid color(lightGray, 200);

		&:hover {
			color: color(lightGray, 700);
			border: 1px solid color(lightGray, 400);
		}

		&:active {
			color: color(lightGray, 700);
			border: 1px solid color(lightGray, 500);
			box-shadow: 0 0 0 2px color(darkGray, 700), 0 0 0 4px color(lightGray, 500), 0 1px 2px 0 color(lightGray, 700);
		}
	}

	.session-name-input {
		color: color(lightGray, 700);
	}
}

@keyframes blink {
	50% {
		opacity: 0.5;
	}
}

@media only screen and (max-width: 1200px),
		only screen and (max-height: 600px) {
	:host {

		::ng-deep {

			.system-container {
				width: 174px !important;
				height: 178px !important;

				b {
					font-size: 1.4rem !important;
				}
			}

			.preset {
				display: none !important;
			}

			#hint {
				width: 100%;

				.reverse {
					flex-direction: column-reverse;

					.small-size {
						width: 100%;
					}
				}
			}

			#mark-message-sending,
			#message-sending {
				max-width: 100%;
			}

			.p-dialog {
				width: 95%;
				max-height: 80%;

				.p-dialog-header{
					padding: 1rem !important;
				}

				.p-dialog-content{
					padding: unset;
					overflow-y: unset;
				}
			}

			.chat-container {
				width: 100% !important;
			}

			.chat {
				width: 100% !important;
				margin: 0 !important;
				border-radius: 0 !important;

				form {
					border-radius: 1rem 1rem 0 0;
				}
			}

			.session-button--dialog {
				display: inline-flex;
			}

			.session-button--dialog--hidden {
				display: none;
			}

			.p-timeline {
				max-height: 50vh;
			}

		}

		.timeline {
			display: none !important;
		}

		.timeline-dialog {
			display: flex !important;
			height: 100% !important;
			max-width: 100% !important;
			min-width: 0 !important;
			margin: .2rem !important;

			.timeline-content {
				width: 100%;
				justify-content: center;
				min-width: unset;
				max-width: unset;
			}
		}
	}

}
